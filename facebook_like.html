<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Social - Feed</title>
  <style>
    :root{
      --bg:#f0f2f5; --card:#ffffff; --accent:#1877f2; --muted:#606770;
      --radius:10px; --shadow:0 6px 18px rgba(0,0,0,0.08);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:#1c1e21}
    header{
      height:60px;background:#fff;border-bottom:1px solid #e6e9ee;display:flex;align-items:center;gap:16px;padding:0 16px;position:sticky;top:0;z-index:20;
    }
    .logo{font-weight:700;color:var(--accent);font-size:1.1rem}
    .search{flex:1;max-width:520px}
    .search input{width:100%;padding:8px 12px;border-radius:20px;border:1px solid #e9ebee;background:#f5f6f7}
    .icons{display:flex;gap:12px;align-items:center}
    .icon-btn{background:#f0f2f5;padding:8px;border-radius:8px;cursor:pointer}
    .container{max-width:1100px;margin:18px auto;display:grid;grid-template-columns:240px 1fr 300px;gap:18px;padding:0 12px}
    @media (max-width:980px){.container{grid-template-columns:1fr}}
    .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:var(--shadow);border:1px solid rgba(0,0,0,0.03)}
    .profile{display:flex;gap:12px;align-items:center}
    .avatar{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#b3d4ff,#d6b3ff);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    .links{margin-top:12px;display:flex;flex-direction:column;gap:8px}
    .links a{color:#1c1e21;text-decoration:none;padding:8px;border-radius:8px;display:block}
    .links a:hover{background:#f0f2f5}
    .composer textarea{width:100%;border:1px solid #e9ebee;padding:10px;border-radius:10px;resize:none;min-height:70px}
    .composer .actions{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
    .btn-primary{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer}
    .post{margin-top:12px}
    .post .meta{display:flex;gap:10px;align-items:center}
    .post .post-body{margin-top:8px;color:#141414}
    .post .post-actions{display:flex;gap:10px;margin-top:10px;color:var(--muted);font-weight:600}
    .post .post-actions button{background:transparent;border:none;cursor:pointer;padding:6px 8px;border-radius:8px}
    .post .post-actions button.liked{color:var(--accent)}
    .right h4{margin:0 0 10px 0;font-size:0.95rem}
    .friend{display:flex;gap:10px;align-items:center;padding:8px 0;border-bottom:1px solid #f0f2f5}
    .friend .fa{width:36px;height:36px;border-radius:50%;background:#e9f1ff;display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:700}
    footer{text-align:center;color:var(--muted);padding:30px 0;font-size:0.9rem}

    /* Login modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(3,10,20,0.45);display:none;align-items:center;justify-content:center;z-index:50;padding:20px}
    .modal{width:100%;max-width:420px;background:#fff;border-radius:12px;padding:20px;box-shadow:0 12px 40px rgba(3,10,20,0.3)}
    .modal h2{margin:0 0 8px;font-size:1.1rem}
    .modal label{display:block;margin-top:10px;font-size:0.9rem}
    .modal input{width:100%;padding:10px;border:1px solid #e6e9ef;border-radius:8px;margin-top:6px}
    .modal .row{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
    .hidden{display:none}
    .user-info{display:flex;gap:12px;align-items:center}
  </style>
</head>
<body>
  <header>
    <div class="logo">Social</div>
    <div class="search"><input id="search" placeholder="Search" /></div>
    <div class="icons" id="headerIcons">
      <div class="icon-btn">Home</div>
      <div class="icon-btn">Messages</div>
      <div class="icon-btn">Notifications</div>
      <div class="icon-btn" id="profileBtn">Profile</div>
      <button id="loginOpenBtn" class="icon-btn">Login</button>
      <button id="logoutBtn" class="icon-btn hidden">Logout</button>
    </div>
  </header>

  <div class="container" id="appContent">
    <!-- left -->
    <aside>
      <div class="card">
        <div class="profile">
          <div class="avatar" id="leftAvatar">SJ</div>
          <div>
            <div id="leftName" style="font-weight:700">Guest</div>
            <div style="color:var(--muted);font-size:0.9rem">Welcome</div>
          </div>
        </div>
        <div class="links">
          <a href="#">News Feed</a>
          <a href="#">Friends</a>
          <a href="#">Groups</a>
          <a href="#">Marketplace</a>
        </div>
      </div>
    </aside>

    <!-- center feed -->
    <main>
      <div class="card composer">
        <textarea id="postText" placeholder="What's on your mind?"></textarea>
        <div class="actions">
          <div style="color:var(--muted)">Add photo Â· Tag Â· Feeling</div>
          <div>
            <button id="postBtn" class="btn-primary">Post</button>
          </div>
        </div>
      </div>

      <div id="feed">
        <article class="card post" data-id="1">
          <div class="meta">
            <div class="avatar" style="width:44px;height:44px">A</div>
            <div>
              <div style="font-weight:700">Alice Johnson</div>
              <div style="font-size:0.85rem;color:var(--muted)">2 hrs Â· Public</div>
            </div>
          </div>
          <div class="post-body">Had a great day at the park! ðŸŒ³</div>
          <div class="post-actions">
            <button class="like-btn" data-liked="false">Like Â· <span class="like-count">2</span></button>
            <button class="comment-btn">Comment</button>
            <button class="share-btn">Share</button>
          </div>
        </article>
      </div>
    </main>

    <!-- right -->
    <aside class="right">
      <div class="card">
        <h4>Contacts</h4>
        <div class="friend"><div class="fa">AL</div><div>Alice</div></div>
        <div class="friend"><div class="fa">BM</div><div>Bob</div></div>
        <div class="friend"><div class="fa">CK</div><div>Charlie</div></div>
      </div>

      <div class="card" style="margin-top:12px">
        <h4>Trending</h4>
        <div style="color:var(--muted);font-size:0.95rem">#webdev Â· #design Â· #learning</div>
      </div>
    </aside>
  </div>

  <footer>Simple social feed demo â€” not a real site</footer>

  <!-- Login Modal (merged from login.html) -->
  <div class="modal-backdrop" id="loginModal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h2 id="modalTitle">Log in to Social</h2>
      <p style="color:var(--muted);margin:0 0 12px 0">Enter your email/phone and password to continue.</p>
      <div id="modalAlert" class="hidden" role="alert" style="margin-bottom:8px;color:#9f1239"></div>
      <form id="loginForm" onsubmit="return false;">
        <label for="identifier">Email or phone</label>
        <input id="identifier" name="identifier" type="text" placeholder="you@example.com or +1234567890" />

        <label for="password">Password</label>
        <input id="password" name="password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />

        <div class="row" style="margin-top:10px">
          <label style="display:flex;align-items:center;gap:8px;font-size:0.9rem;">
            <input type="checkbox" id="remember" /> <span style="color:var(--muted)">Remember me</span>
          </label>
          <a href="#" style="color:var(--muted);text-decoration:none;font-size:0.9rem">Forgot?</a>
        </div>

        <div style="display:flex;gap:10px;margin-top:12px">
          <button id="modalLoginBtn" class="btn-primary" type="button">Log In</button>
          <button id="modalCloseBtn" type="button" style="background:#e9ebee;border:none;padding:8px 12px;border-radius:8px;cursor:pointer">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Elements
    const loginOpenBtn = document.getElementById('loginOpenBtn');
    const loginModal = document.getElementById('loginModal');
    const modalCloseBtn = document.getElementById('modalCloseBtn');
    const modalLoginBtn = document.getElementById('modalLoginBtn');
    const modalAlert = document.getElementById('modalAlert');
    const loginForm = document.getElementById('loginForm');
    const loginOpenBtnEl = document.getElementById('loginOpenBtn');
    const logoutBtn = document.getElementById('logoutBtn');
    const leftName = document.getElementById('leftName');
    const leftAvatar = document.getElementById('leftAvatar');
    const postBtn = document.getElementById('postBtn');
    const postText = document.getElementById('postText');
    const feed = document.getElementById('feed');

    // open modal
    loginOpenBtn.addEventListener('click', () => {
      modalAlert.classList.add('hidden');
      loginModal.style.display = 'flex';
      document.getElementById('identifier').focus();
    });
    modalCloseBtn.addEventListener('click', () => { loginModal.style.display = 'none'; });

    // demo login (replace with real backend)
    modalLoginBtn.addEventListener('click', () => {
      const id = document.getElementById('identifier').value.trim();
      const pw = document.getElementById('password').value;
      if (!id || !pw) {
        modalAlert.textContent = 'Please fill in both fields.';
        modalAlert.classList.remove('hidden');
        return;
      }
      // Accept any non-empty credentials for demo
      setLoggedIn(id);
      loginModal.style.display = 'none';
      loginForm.reset();
    });

    function setLoggedIn(identifier) {
      const short = identifier.split('@')[0].replace(/\W/g,'').slice(0,2).toUpperCase() || 'U';
      leftName.textContent = identifier;
      leftAvatar.textContent = short;
      loginOpenBtnEl.classList.add('hidden');
      logoutBtn.classList.remove('hidden');
    }

    logoutBtn.addEventListener('click', () => {
      leftName.textContent = 'Guest';
      leftAvatar.textContent = 'G';
      loginOpenBtnEl.classList.remove('hidden');
      logoutBtn.classList.add('hidden');
    });

    // Posting
    postBtn.addEventListener('click', () => {
      const text = postText.value.trim();
      if (!text) return alert('Please write something to post.');
      const id = Date.now();
      const article = document.createElement('article');
      article.className = 'card post';
      article.dataset.id = id;
      article.innerHTML = `
        <div class="meta">
          <div class="avatar" style="width:44px;height:44px">${leftAvatar.textContent}</div>
          <div>
            <div style="font-weight:700">${leftName.textContent}</div>
            <div style="font-size:0.85rem;color:var(--muted)">Just now Â· Friends</div>
          </div>
        </div>
        <div class="post-body"></div>
        <div class="post-actions">
          <button class="like-btn" data-liked="false">Like Â· <span class="like-count">0</span></button>
          <button class="comment-btn">Comment</button>
          <button class="share-btn">Share</button>
        </div>`;
      article.querySelector('.post-body').textContent = text;
      feed.insertBefore(article, feed.firstChild);
      postText.value = '';
    });

    // Like toggle (delegation)
    feed.addEventListener('click', (e) => {
      const likeBtn = e.target.closest('.like-btn');
      if (!likeBtn) return;
      const liked = likeBtn.dataset.liked === 'true';
      const countEl = likeBtn.querySelector('.like-count');
      let count = parseInt(countEl.textContent || '0', 10);
      if (liked) { count = Math.max(0, count - 1); likeBtn.dataset.liked = 'false'; likeBtn.classList.remove('liked'); }
      else { count += 1; likeBtn.dataset.liked = 'true'; likeBtn.classList.add('liked'); }
      countEl.textContent = count;
    });

    // Close modal on backdrop click
    loginModal.addEventListener('click', (e) => {
      if (e.target === loginModal) loginModal.style.display = 'none';
    });
  </script>
</body>
</html>